<html>
<head>
  <meta charset="utf-8"/>
  <title>Mise à jour du site des archives de l’Oulipo</title>
  </head>
<body>
  <h1>Mise à jour du site des archives de l’Oulipo</h1>
  <h2>Fichiers utilisés</h2>
  <p>Tous les fichiers sont versionnés dans le dépôt http://github.com/lb42/difdepo</p>
  <ul>
    <li>Fichier XML-EAD ead.xml</li>
    <li>Fichiers XML-TEI du dossier Current, validés par le schéma out/difdepo.rnc (source : difdepo.odd, difdepo.fr.odd, difdepo.en.odd), avec l’encodage suivant pour les entités qui seront indexées :</li>
    </ul>
    <table>
      <tr>
        <td>Définition</td>
        <td>Nom du fichier thésaurus</td>
        <td>Élément TEI</td>
        <td>Ancêtre (permet de distinguer des éléments utilisés à des endroits différents dans des sens différents)</td>
        <td>Attribut possible</td>
        </tr>
        <tr>
          <td>Noms de personnes présentes à la réunion ou citées dans le document</td>
          <td>persons.xml</td>
          <td>persName</td>
          <td>TEI</td>
          <td>role</td>
          </tr>
          <tr>
            <td>Noms d'organisme</td>
            <td>organizations.xml</td>
            <td>orgName</td>
            <td>text</td>
            <td></td>
            </tr>
            <tr>
              <td>Titres d'ouvrage cités</td>
              <td>titles.xml</td>
              <td>title</td>
              <td>text</td>
              <td></td>
              </tr>
              <tr>
                <td>Manifestations</td>
                <td>events.xml</td>
                <td>name</td>
                <td>text</td>
                <td>type=""</td>
                </tr>
                <tr>
                  <td>Notions</td>
                  <td>terms.xml</td>
                  <td>term</td>
                  <td>text</td>
                  <td></td>
                  </tr>
                  <tr>
                    <td>Éditeurs scientifique, responsables de l'annotation ou la transcription (dans les métadonnées)</td>
                    <td>team_members.xml</td>
                    <td>name</td>
                    <td>titleStmt</td>
                    <td></td>
                    </tr>

      </table>
      <ul>
        <li>Fichiers XML-SKOS du dossier thesauri qui listent, pour chaque entité, ses différentes formes possibles, validés par le schéma thesauri.rng. Ces fichiers peuvent se réduire à l’élément racine, ou comporter déjà des entités et des formes
        </li>
        </ul>
        <p>Une campagne de modification se fait en deux temps.</p>
        <h2>Indexation des documents</h2>
        <p>Dans Oxygen, en trois étapes.</p>
        <h3>Génération des thesauri XML-SKOS</h3>
        <p>Transformer les fichiers XML-SKOS du dossier thesauri avec tei_theso.xsl (le projet thesauri.xpr est paramétré à cet effet). tei_theso.xsl appelle normalize.xsl.</p>
<p>Pour chaque type d’entité, on prend toutes les formes différentes (sans doublon) dans les fichiers XML-TEI.</p>
<ul>
<li>Si une forme est déjà référencée dans le fichier XML-SKOS, elle n’est pas ajoutée</li>
<li>Si une forme n’est pas déjà référencée
  <ul>
<li>Si elle est similaire (abstraction faite des accents, majuscules et ponctuation) à une forme référencée, elle est ajoutée sous la même entité</li>
<li>Si elle n’est similaire à aucune forme référencée, elle est ajoutée sous une nouvelle entité</li></ul>
<li>Si une forme référencée dans le thesaurus n’apparaît plus dans les fichiers XML-TEI, elle n’est pas supprimée</li>
</ul>
<h3>Correction manuelle des thesauri XML-SKOS</h3>
<p>Nettoyer les thesauri : regrouper sous un même concept les formes qui expriment le même concept. Les thesauri doivent être validés par le schéma thesauri.rng (qui vérifie notamment que chaque concept contient un élément prefLabel).</p>
<h3>Annotation des documents XML-TEI</h3>
<p>Transformer les fichiers XML-TEI du dossier Current avec theso_tei.xsl (le projet Current.xpr est paramétré à cet effet). theso_tei.xsl appelle normalize.xsl.</p>
<p>Pour chaque élément, un attribut @ref est ajouté pointant vers l’entité dont le contenu textuel de l’élément est une expression.</p>
<p>Si la forme n’est pas référencée dans le thesaurus (ce qui ne produit que si on ajoute par erreur une forme du document après l’étape 1.1, on que l’on supprime une forme du thesaurus lors de l’étape 1.2), l’attribut @ref n’est pas ajouté, et, s’il était présent, il est  supprimé.</p>
<h2>Mise en ligne</h2>
<p>Sur le site, en trois étapes.</p>
<p>Les URL sont indiquées sans le nom de domaine (update_db = http://archives-oulipo-dev.univ-paris3.fr/update_db ou http://archives-oulipo.univ-paris3.fr/update_db).</p>
<p>Les chemins sont donnés relativement au dossier contenant le site sur le serveur (archives-oulipo-dev.univ-paris3.fr ou archives-oulipo).univ-paris3.fr</p>
<h3>Envoi des fichiers</h3>
<p>On charge ou remplace les fichiers (en SFTP ou avec l’interface imce) :</p>
<ul>
<li>les fichiers XML-TEI dans files/edition/tei</li>
<li>les fichiers XML-SKOS dans files/edition/thesauri</li>
<li>le fichier XML-EAD dans files/edition/ead</li>
</ul>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Mise à jour du site des archives de l’Oulipo</title>
  </head>
<body>
  <h1>Mise à jour du site des archives de l’Oulipo</h1>
  <h2>Fichiers utilisés</h2>
  <p>Tous les fichiers sont versionnés dans le dépôt http://github.com/lb42/difdepo</p>
  <ul>
    <li>Fichier XML-EAD ead.xml</li>
    <li>Fichiers XML-TEI du dossier Current, validés par le schéma out/difdepo.rnc (source : difdepo.odd, difdepo.fr.odd, difdepo.en.odd), avec l’encodage suivant pour les entités qui seront indexées :</li>
    </ul>
    <table>
      <tr>
        <td>Définition</td>
        <td>Nom du fichier thésaurus</td>
        <td>Élément TEI</td>
        <td>Ancêtre (permet de distinguer des éléments utilisés à des endroits différents dans des sens différents)</td>
        <td>Attribut possible</td>
        </tr>
        <tr>
          <td>Noms de personnes présentes à la réunion ou citées dans le document</td>
          <td>persons.xml</td>
          <td>persName</td>
          <td>TEI</td>
          <td>role</td>
          </tr>
          <tr>
            <td>Noms d'organisme</td>
            <td>organizations.xml</td>
            <td>orgName</td>
            <td>text</td>
            <td></td>
            </tr>
            <tr>
              <td>Titres d'ouvrage cités</td>
              <td>titles.xml</td>
              <td>title</td>
              <td>text</td>
              <td></td>
              </tr>
              <tr>
                <td>Manifestations</td>
                <td>events.xml</td>
                <td>name</td>
                <td>text</td>
                <td>type=""</td>
                </tr>
                <tr>
                  <td>Notions</td>
                  <td>terms.xml</td>
                  <td>term</td>
                  <td>text</td>
                  <td></td>
                  </tr>
                  <tr>
                    <td>Éditeurs scientifique, responsables de l'annotation ou la transcription (dans les métadonnées)</td>
                    <td>team_members.xml</td>
                    <td>name</td>
                    <td>titleStmt</td>
                    <td></td>
                    </tr>

      </table>
      <ul>
        <li>Fichiers XML-SKOS du dossier thesauri qui listent, pour chaque entité, ses différentes formes possibles, validés par le schéma thesauri.rng. Ces fichiers peuvent se réduire à l’élément racine, ou comporter déjà des entités et des formes
        </li>
        </ul>
        <p>Une campagne de modification se fait en deux temps.</p>
        <h2>Indexation des documents</h2>
        <p>Dans Oxygen, en trois étapes.</p>
        <h3>Génération des thesauri XML-SKOS</h3>
        <p>Transformer les fichiers XML-SKOS du dossier thesauri avec tei_theso.xsl (le projet thesauri.xpr est paramétré à cet effet). tei_theso.xsl appelle normalize.xsl.</p>
<p>Pour chaque type d’entité, on prend toutes les formes différentes (sans doublon) dans les fichiers XML-TEI.</p>
<ul>
<li>Si une forme est déjà référencée dans le fichier XML-SKOS, elle n’est pas ajoutée</li>
<li>Si une forme n’est pas déjà référencée
  <ul>
<li>Si elle est similaire (abstraction faite des accents, majuscules et ponctuation) à une forme référencée, elle est ajoutée sous la même entité</li>
<li>Si elle n’est similaire à aucune forme référencée, elle est ajoutée sous une nouvelle entité</li></ul>
<li>Si une forme référencée dans le thesaurus n’apparaît plus dans les fichiers XML-TEI, elle n’est pas supprimée</li>
</ul>
<h3>Correction manuelle des thesauri XML-SKOS</h3>
<p>Nettoyer les thesauri : regrouper sous un même concept les formes qui expriment le même concept. Les thesauri doivent être validés par le schéma thesauri.rng (qui vérifie notamment que chaque concept contient un élément prefLabel).</p>
<h3>Annotation des documents XML-TEI</h3>
<p>Transformer les fichiers XML-TEI du dossier Current avec theso_tei.xsl (le projet Current.xpr est paramétré à cet effet). theso_tei.xsl appelle normalize.xsl.</p>
<p>Pour chaque élément, un attribut @ref est ajouté pointant vers l’entité dont le contenu textuel de l’élément est une expression.</p>
<p>Si la forme n’est pas référencée dans le thesaurus (ce qui ne produit que si on ajoute par erreur une forme du document après l’étape 1.1, on que l’on supprime une forme du thesaurus lors de l’étape 1.2), l’attribut @ref n’est pas ajouté, et, s’il était présent, il est  supprimé.</p>
<h2>Mise en ligne</h2>
<p>Sur le site, en trois étapes.</p>
<p>Les URL sont indiquées sans le nom de domaine (update_db = http://archives-oulipo-dev.univ-paris3.fr/update_db ou http://archives-oulipo.univ-paris3.fr/update_db).</p>
<p>Les chemins sont donnés relativement au dossier contenant le site sur le serveur (archives-oulipo-dev.univ-paris3.fr ou archives-oulipo).univ-paris3.fr</p>
<h3>Envoi des fichiers</h3>
<p>On charge ou remplace les fichiers (en SFTP ou avec l’interface imce) :</p>
<ul>
<li>les fichiers XML-TEI dans files/edition/tei</li>
<li>les fichiers XML-SKOS dans files/edition/thesauri</li>
<li>le fichier XML-EAD dans files/edition/ead</li>
</ul>
<table>
  <tr>
    <td>Nom système du type de nœud</td>
    <td>Alias dans l’URL</td>
    <td>Label</td>
    <td>Source</td>
    <td>Remarques</td>
  </tr>
  <tr>
    <td>serie</td>
    <td>serie</td>
    <td>Série</td>
    <td>XML-EAD</td>
    <td></td>
  </tr>
  <tr>
    <td>folder</td>
    <td>dossier</td>
    <td>Dossier</td>
    <td>XML-EAD</td>
    <td></td>
  </tr>
  <tr>
    <td>restricted_folder</td>
    <td></td>
    <td>Dossier sous droit</td>
    <td>XML-EAD</td>
    <td>Dossiers postérieurs à 1990, sans fac-similés</td>
  </tr>
  <tr>
    <td rowspan="4">document</td>
    <td rowspan="4">document</td>
    <td rowspan="4">Document</td>
    <td>XML-TEI</td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>

</table>



  </body>
</html>




  </body>
</html>
